<!doctype html>
<html lang="fi">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title> Kuinka voittaa ruletissa - ainakin useimpina päivinä - Tyyppiarvo </title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="referrer" content="no-referrer">
    <meta name="description" content="" />
    <meta property="og:site_name" content="Tyyppiarvo" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://tyyppiarvo.netlify.app/blog/2018-06-20-kuinka-voittaa-ruletissa-ainakin-useimpina-paivina/" />
    <meta property="og:title" content="Kuinka voittaa ruletissa - ainakin useimpina päivinä" />
    <meta property="og:image" content="https://tyyppiarvo.netlify.app/" />
    <meta property="og:description" content="" />

    <meta name="twitter:card" content="summary_large_image" />
    
    <meta name="twitter:title" content="Kuinka voittaa ruletissa - ainakin useimpina päivinä" />
    <meta name="twitter:description" content="" />
    <meta name="twitter:image" content="https://tyyppiarvo.netlify.app/" />

    <link rel="canonical" href="https://tyyppiarvo.netlify.app/blog/2018-06-20-kuinka-voittaa-ruletissa-ainakin-useimpina-paivina/">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin="anonymous" />

    <link rel="stylesheet" href="https://tyyppiarvo.netlify.app/css/custom.css" />

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github-gist.min.css" integrity="sha512-od7JLoOTxM8w/HSKGzP9Kexc20K9p/M2zxSWsd7H1e4Ctf+8SQFtCWEZnW5u6ul5ehSECa5QmOk9ju2nQMmlVA==" crossorigin="anonymous" />
    

    

    <link rel="shortcut icon"
        href="https://tyyppiarvo.netlify.app/images/favicon.ico">

    
    <link href="https://tyyppiarvo.netlify.app/index.xml" rel="alternate" type="application/rss+xml" title="Tyyppiarvo" />
    
</head>

<body>
    
<div class="mt-xl header">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-auto">
                <a href="https://tyyppiarvo.netlify.app/">
                    <h1 class="name">Tyyppiarvon arkisto</h1>
                </a>
            </div>
        </div>

        <div class="row justify-content-center">
            <ul class="nav nav-primary">
                
                <li class="nav-item">
                    <a class="nav-link" href="https://tyyppiarvo.netlify.app/">
                        
                        Etusivu
                    </a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="https://tyyppiarvo.netlify.app/about/">
                        
                        Tyyppiarvo
                    </a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="https://tyyppiarvo.netlify.app/archive/">
                        
                        Lehdet
                    </a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="https://blogs.helsinki.fi/moodi-ry/">
                        
                        Moodi
                    </a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="https://github.com/joniok/tyyppiarvo">
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

<div class="content">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-sm-12 col-lg-8">
                <h1 class="mx-0 mx-md-4 blog-post-title">Kuinka voittaa ruletissa - ainakin useimpina päivinä</h1>

                <div class="mb-md-4 meta">
                    
                    
                    <span class="author" title="Topi Halme">
                        Topi Halme
                    </span>
                    
                    

                    <span class="date middot" title='Wed Jun 20 2018 00:00:00 UTC'>
                        2018-06-20
                    </span>

                    <span class="reading-time middot">
                        6 min read
                    </span>

                    <div class="d-none d-md-inline tags">
                        <ul class="list-unstyled d-inline">
                            
                        </ul>
                    </div>
                </div>

                <div class="markdown blog-post-content">
                    
    <p>Viime syksynä, aikana kun Lauri Markkanen ei ollut vielä jokaisen suomalaisen uusi suosikkiurheilija, Tyyppiarvo julkaisi <a href="../2017-08-29-kuuma-kasi-koripallossa-ilmio-vai-illuusio/index.md">jutun</a> niin kutsutun ”kuuma käsi”-ilmiön kiistellystä olemassaolosta koripallossa. Kiistanalainen oli myös jutun vastaanotto, kun allekirjoittanut joutui raivokkaasti puolustamaan skientologiselta vaikuttanutta matematiikkaa niin kasvokkain (fyysiset alterkaatiot pystyttiin pitämään asian tunnelatauksesta huolimatta vähäisinä) kuin milloin missäkin sosiaalisen median kanavassa. [sosiaaliseksi mediaksi voitaneen tässä yhteydessä laskea myös Tyyppiarvon kommenttipalsta, toim. huom.]</p>
<p>Kysessä ei kuitenkaan ollut ensimmäinen kerta, kun vastaava matematiikan ja arkijärjen ilmeinen riita aiheutti hämmennystä.  Niin kutsuttu <a href="https://fi.wikipedia.org/wiki/Monty_Hallin_ongelma">Monty Hallin ongelma</a> ja sen esitetty ratkaisu saivat useammankin matematiikan professorin lähettämään räyhääjiä aiheesta kirjoittaneeseen lehteen. Tosin sillä erotuksella, että Monty Hall -tapauksessa oli kyse enimmäkseen vastaajien harhaisuudesta, kun taas Tyyppiarvon artikkelin palauteryöppy johtui osin myös alkuperäisen tekstin epäselvästä muotoilusta. Tämän jutun tarkoitus onkin avata sekaannusta ja ihmetystä aiheuttanutta todennäköisyyskysymystä hektiseen internet-aikaan sopivalla 9 kuukauden viivellä, minkä lisäksi sivutaan edellä mainittua Monty Hallia, esitellään systeemi jolla kasinolta poistutaan useammin voitollisena kuin tappiollisena ja aiheutetaan piinaavaa pääkipua kaikille jotka rohkenevat yrittää pysyä mukana loppuun saakka.</p>
<p>Ennen kuin palataan edellisessä osassa hämmennystä aiheuttaneeseen lappuja laatikossa-pulmaan, perustetaan ravintola. Harmillisesti bisnes ei vielä kuitenkaan ole täysin lähtenyt lentoon, ja syömässä käy ainoastaan kaksi asiakasta: kaverisi Jaakko ja oma äitisi. <em>Jaakko valitsee ruokansa joka kerta summanmutikassa listan 100 vaihtoehdosta (menun laajuuden ja huonon suosion välistä yhteyttä olisi kenties syytä tutkia), mutta äitisi tilaa joka kerta tomaattikeiton. Olet keittiössä töissä, kun bongi kumauttaa jonkun tilanneen tomaattikeittoa. Kumpi asiakkaista tuli todennäköisemmin syömään?</em></p>
<p>Tuntuu itsestäänselvältä, että äitihän se siellä – ja näin luultavasti onkin. Vaikka Jaakko olisi tietysti myös saattanut tilata tomaattikeittoa, äidin tullessa syömään todennäköisyys tomaattikeiton tilaukseen on 100% kun taas Jaakolla vain 1%. Kun molempien tulo oletetaan <em>a priori</em> yhtä todennäköiseksi, osapuolien läsnäolon todennäköisyyksien suhde 100/1. Eli tieto siitä, mitä on valittu, muuttaa sen todennäköisyyttä kuka on valinnut.</p>
<p>Samaa teemaa sivuaa klassinen pulma kolikoista laatikossa. <em>Olkoon yhdessä laatikossa kaksi kultakolikkoa, yhdessä kaksi hopeakolikkoa ja yhdessä yksi hopea- ja yksi kultakolikko. Nostetaan sattumalta yksi kolikko yhdestä laatikosta, ja huomataan että se on kultainen. Millä todennäköisyydellä saman laatikon toinen kolikko on kultainen?</em></p>
<p>Tämän vastaus on tietysti 50%. Koska ensimmäinen kolikko on kultainen, se ei voi olla laatikosta jossa on pelkkiä hopeakolikoita. Niinpä sen on oltava joko kulta-kulta tai kulta-hopea laatikosta, joista toisessa toinenkin kolikko on kultainen ja toisessa ei. 50%.</p>
<p>Eikun, ei olekaan. Jos oletetaan, että käsi olisi sattunut kulta-hopea laatikkoon, ensimmäisen kultakolikon noston todennäköisyys olisi 50% kun taas kulta-kulta laatikossa tietysti 100%. Niinpä kultakolikon nosto on merkki siitä, että käsi on luultavasti kulta-kulta laatikossa, ja siten toinenkin kolikko on todennäköisemmin kultainen. Täsmällisesti todennäköisyyksien suhde on 100/50 = 2/1, eli kultakolikon todennäköisyys on 2/3 = 67%. Jos ratkaisu ei tunnu aukenevean, analoginen tilanne olisi edellinen ravintolaesimerkki, jossa ensimmäisen tilauksen jälkeen pitäisi ennustaa, mitä salissa oleva asiakas tilaisi santsikierroksella.</p>
<p>Tästä päästäänkin jokaiselle tilastotieteen johdantokurssin käyneelle tuttuun Monty Hallin ongelmaan, joka kuuluu seuraavasti: <em>Saat valita yhden kolmesta ovesta, joista yhden takana on auto ja kahden muun takana vuohi. Kun olet valinnut ovesi (olkoon se ovi C), ennen valitsemasi oven avaamista pelin isäntä avaa yhden kahdesta jäljellä olevasta ovesta (olkoon se A), paljastaen joka kerta vuohen, ja tarjoaa mahdollisuutta vaihtaa valintaasi vielä avaamatta olevaan oveen B. Kannattaako vaihtaa?</em></p>
<p>Kuten tiedetään, oven vaihtaminen kannattaa. Mahdolliset kombinaatiot ovien A ja B takana ennen oven A avaamista ovat vuohi-vuohi, vuohi-auto ja auto-vuohi, joista kaikki ovat tässä vaiheessa yhtä todennäköisiä. Kun tiedetään, että ovi A avataan, ovat vuohi-vuohi ja vuohi-auto ainoat mahdollisuudet, sillä A:n takana on oltava vuohi. Jos vuohi-auto on oikea kombinaatio, on pelin isäntä pakotettu avaamaan oven A. Sen sijaan jos vuohi-vuohi on oikein, olisi oven B voinut avata ihan yhtä hyvin. Siispä kun <em>tiedetään että ovi A avataan,</em> vuohi-auto on todennäköisimmin oikea kombinaatio, sillä silloin ovi A avataan joka kerta. Samoin kuin äidin asioidessa ravintolassa tomaattikeittoa tilataan joka kerta tai käden osuessa sopivaan laatikkoon kultakolikko nostetaan varmuudella. Ja kun vuohi-auto (C:n takana vuohi) on todennäköisempi yhdistelmä kuin vuohi-vuohi (C:n takana auto) kannattaa ovea tietysti vaihtaa.</p>
<p><img src="./montyhall%20vuohi.png" alt="Oven takaa kurkistaa vuohi. Kenties, koska pelaaja ei vaihtanut valitsemaansa ovea?"></p>
<p>Nyt on viimein boss-challengen aika. Unettomia öitä aiheuttanut ongelma kuului seuraavasti:</p>
<p><em>Heitetään tavallista kolikkoa 100 kertaa. Jokaista (vähintään) kolmen heiton kruunaputkea seuraavan heiton tulos kirjoitetaan lapulle ja laitetaan laatikkoon. Toistetaan operaatio n kertaa, jolloin saadaan n laatikkoa. Nostetaan nyt sattumanvaraisesti yhdestä laatikosta yksi lappu, millä todennäköisyydellä se on kruuna?</em></p>
<p>Nostetaan jostain laatikosta sattumalta lappu, ja huomataan että se liittyy heittosarjan (esimerkiksi) 13. heittoon. Nyt tiedetään, että edeltävät kolme heittoa (10, 11, 12) ovat kaikki kruunia (HHH). Jos kolmastoista heitto on H, päätyy myös 14. heitto laatikkoon, sillä sitä edeltää kruunaputki. Sen sijaan jos 13. heitto on T, 14. heitto ei päädy laatikkoon (kuten ei myöskään 15. tai 16.). Siispä, jos kolmastoista heitto on H, myös 14. heitto olisi ihan yhtä hyvin voinut tulla valituksi laatikosta. Kun tiedetään, että 13. heitto tuli valituksi, tekee se HHHT sarjasta todennäköisemmän kuin HHHH, sillä HHHH olisi tuonut laatikkoon lisää lappuja, siten pienentäen juuri 13. lapun noston todennäköisyyttä.</p>
<p>Tämä ei kuitenkaan tarkoita sitä, että edeltävä kruunaputki muuttaisi seuraavan heiton todennäköisyyttä, sillä tietenkään seuraavan kolikonheiton tulos ei ole riippuvainen edellisestä. Jos kaikki laput kaikista laatikoista kaadettaisiin yhteen isoon laatikkoon, kruunan todennäköisyys olisi ortodoksisesti 50%. Mutta kun katsotaan rajallisen pituisia ketjuja, joista rajataan heittoja tietyn pituisten edeltävien putkien perusteella, vääristymä syntyy. Koska klaava katkaisee kruunaputken ja siten vähentää lappujen kokonaismäärää laatikossa, bokseissa joissa on paljon klaavoja, on vähän lappuja. Ja kun lasketaan erikokoisten joukkojen suhteellisten osuuksien painottamaton keskiarvo, vääristymä syntyy. Tässä tapauksessa se on kooltaan noin 4 prosenttiyksikköä, minkä epäilevät Tuomaat voivat todeta tällä <a href="https://pastebin.com/t6gE5MVr">R-skriptillä</a>.</p>
<p><img src="./gilovich-cornell.png" alt=""></p>
<p>Katsotaan nyt Gilovichin, Vallonen ja Tverskyn <a href="http://wexler.free.fr/library/files/gilovich%20(1985)%20the%20hot%20hand%20in%20basketball.%20on%20the%20misperception%20of%20random%20sequences.pdf">alkuperäisestä tutkimuksesta</a> napattua taulukkoa, joka oli liitettynä myös edelliseen juttuun. Taulukko liittyy kokeeseen, jossa 26 Cornellin yliopiston pelaajaa laitettiin heittämään 100 heittoa etäisyydeltä, josta osumaprosentti olisi jotakuinkin 50%. Alimmalle riville on laskettu, että kolmea ohiheittoa seuraava heitto menee sisään 45% todennäköisyydellä ja kolmen heiton onnistumisputkea seuraava 49% tarkkuudella. Ei suurta eroa, ei mitään nähtävää. Kuitenkin kuten nokkelimmat ehkä jo osaavatkin aavistaa, kyseiset prosenttiyksiköt on saatu laskemalla yksittäisten pelaajien heittoprosenttien painottamaton keskiarvo! Ja kuten edellisessä kappaleessa opimme, <em>kun lasketaan erikokoisten joukkojen suhteellisten osuuksien painottamaton keskiarvo, vääristymä syntyy</em>. Suluissa olevat luvut kertovat kuinka monta heittoa kukin pelaaja otti onnistumis- ja epäonnistumisputkissa (”kuinka monta lappua kussakin korissa oli”), joista voidaan päätellä kaikkien pelaajien yhteenlasketut onnistumiset ja epäonnistumiset (”kaataa laput yhteen koriin”). Nopealla laskennolla todetaan, että kolmea ohiheittoa seuraavat heitot heitettiin yhteensä 161/400 = 40% ja kolmea koria seuraavat heitot 179/313 = 57%. Tämä sisältää kuitenkin valintaharhan: heittäjät jotka ovat kiskoneet kolme heittoa peräkkäin ohi ovat keskimäärin varmasti ylipäätään huonompia heittäjiä kuin kolmen korin putkeen päässeet – huono heittäjä harvemmin pääsee edes kokeilemaan, miltä tuntuu heittää onnistumisputkessa. Luvut eivät siis tuollaisenaan ole myöskään todiste kuuman käden olemassaolosta.</p>
<p>Tämä ei kuitenkaan tarkoita, että Gilovich, Vallone ja Tversky olisivat tahallaan taivutelleet dataansa hypoteeseihinsa sopiviksi. Painottamaton keskiarvo laskettiin mainitun ilmeisen valintaharhan välttämiseksi, eikä sen aiheuttama vääristymä ei ole todellakaan ilmeinen – sitä on juuri epätoivoisesti yritetty avata noin 1000 sanan pituisella selostuksella. <a href="http://andrewgelman.com/2017/04/02/gilovich-doubles-hot-hand-denial/">Gilovich itse</a> on vieläkin <a href="https://en.wikipedia.org/wiki/K%C3%BCbler-Ross_model#Stages_of_grief">Kübler-Rossin viiden vaiheen</a> ykköstasolla.</p>
<h2 id="loppunäytös-kuinka-voittaa-ruletissa">Loppunäytös: Kuinka voittaa ruletissa</h2>
<p>Pelataan kolme kierrosta rulettia seuraavalla strategialla: Jos edellisellä pyöräytyksellä on tullut musta (M), panostetaan punaiselle (P), muuten ei pelata ollenkaan. (Yksinkertaisuuden vuoksi oletetaan rulettipyörä, jossa ei ole vihreää nollaa. Nolla vaikuttaisi todennäköisyyksiin hieman, muttei niin paljoa, etteikö saatu johtopäätös olisi edelleen voimassa.)</p>
<p>Mikäli kolmen pyöräytyksen tulos on PPP tai PPM, ei päästä pelaamaan ollenkaan, sillä edeltävällä pyöräytyksellä ei tullut mustaa. (Tässä tilanteessa voidaan aloittaa uusi peli.)</p>
<p>Muissa tilanteissa (MMM, MMP, MPM, PMM, PMP, MPP = 6kpl) veto asetetaan joko toiselle tai kolmannelle tai molemmille pyöräytyksille siten, että 3/6 (MPM, MPP, PMP) voitamme jokaisen vetomme, 1/6 (MMP) häviämme yhden ja voitamme yhden, ja 2/6 (MMM, PMM) häviämme kaikki. Siispä keskimääräisenä viikkona – olettaen että sunnuntai pyhitetään vapaapäiväksi – poistumme kasinolta kolmesti voittajana, kerran omillamme, ja vain kahdesti tappiollisina!</p>
<hr>
<p><em>Edellä mainittu voitokkuus ruletissa ei tietenkään pidä paikkaansa. Jos keksit miksi, olet lukenut Halmeen artikkelit riittävän tarkasti.</em></p>



                </div>

                
            </div>
        </div>
    </div>
</div>

<section id="comments">
    <div class="py-3 content">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-sm-12 col-lg-8">
                    <div class="comments">
                        <script src="https://utteranc.es/client.js" repo=""
                            issue-term="pathname" label="comment" theme="github-light" crossorigin="anonymous" async>
                            </script>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>



    

    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js" integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin="anonymous"></script>
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js" defer></script>
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/python.min.js" defer></script>
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/stan.min.js" defer></script>
        
        <script>
            window.addEventListener('load', function() {
                hljs.initHighlighting();
            }, true);
        </script>
    

    

    
    
        

    
</body>

</html>
